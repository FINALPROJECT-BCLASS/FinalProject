<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="managerMapper">

	<resultMap type="Member" id="memberResultSet">
		<id property="id" column="ID"/>
		<result property="name" column="NAME"/>
		<result property="nickname" column="NICKNAME"/>
		<result property="pwd" column="PWD"/>
		<result property="email" column="EMAIL"/>
		<result property="phone" column="PHONE"/>
		<result property="birthday" column="BIRTHDAY"/>
		<result property="address" column="ADDRESS"/>
		<result property="main_no" column="MAIN_NO"/>
		<result property="original_file" column="ORIGINAL_FILE"/>
		<result property="rename_file" column="RENAME_FILE"/>
		<result property="join_date" column="JOIN_DATE"/>
		<result property="chat_yn" column="CHAT_YN"/>
		<result property="out_yn" column="OUT_YN"/>
	</resultMap>

	<select id="getMemberCount" parameterType="string" resultType="_int">
		SELECT COUNT(*)
		FROM MEMBER
		WHERE OUT_YN='N'
			AND ID LIKE '%'||#{id}||'%'
			AND ID!='admin'	
	</select>
	
	<select id="selectMList" parameterType="string" resultMap="memberResultSet">
		SELECT *
		FROM MEMBER
		WHERE OUT_YN='N'
			AND ID LIKE '%'||#{id}||'%'
			AND ID!='admin'
	</select>
	
</mapper>
